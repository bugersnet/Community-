<meta name='viewport' content='width=device-width, initial-scale=1'/>const http = require('http');
const fs = require('fs').promises;
const path = require('path');

const host = 'localhost';
const port = 8000;

const requestListener = function (req, res) {
    const filePath = path.join(__dirname, req.url === '/' ? 'index.html' : req.url);
    fs.readFile(filePath)
        .then(contents => {
            res.setHeader('Content-Type', getContentType(filePath));
            res.writeHead(200);
            res.end(contents);
        })
        .catch(err => {
            res.writeHead(404);
            res.end(JSON.stringify(err));
        });
};

const server = http.createServer(requestListener);
server.listen(port, host, () => {
    console.log(`Server is running on http://${host}:${port}`);
});

function getContentType(filePath) {
    const extname = String(path.extname(filePath)).toLowerCase();
    const mimeTypes = {
        '.html': 'text/html',
        '.js': 'text/javascript',
        '.css': 'text/css',
        '.json': 'application/json',
        '.png': 'image/png',
        '.jpg': 'image/jpg',
        '.gif': 'image/gif',
        '.svg': 'image/svg+xml',
    };
    return mimeTypes[extname] || 'application/octet-stream';
}
